/* CRITICAL MOBILE PERFORMANCE OPTIMIZATIONS */

/* Disable backdrop-blur on mobile - HUGE performance boost */
@media (max-width: 768px) {
  .glass,
  .glass-premium,
  .glass-card,
  .btn-glass,
  .card-glass-mobile,
  .bottom-sheet,
  .fab-glass,
  .pull-indicator,
  .tooltip-mobile,
  .skeleton-glass,
  .btn-secondary,
  .btn-ghost,
  .card {
    backdrop-filter: none !important;
  }

  /* Remove will-change from buttons/cards to free up GPU memory */
  .btn-primary,
  .card {
    will-change: auto !important;
  }

  /* Simplify box-shadows on mobile */
  .glow,
  .glow-primary {
    box-shadow: 0 0 8px rgba(0, 201, 255, 0.15) !important;
  }

  .glow-sm {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  }

  /* Disable complex animations on mobile */
  .glowing-button::before,
  .shimmer-effect::before {
    display: none !important;
  }

  .orbital-ring,
  .particle {
    animation: none !important;
    will-change: auto !important;
  }

  /* Reduce animation complexity */
  .animate-on-scroll {
    transform: translateY(5px) !important;
    transition: opacity 0.3s ease-out, transform 0.3s ease-out !important;
  }
}

/* SAFE AREA INSETS for iPhone X+ Notch Support */

/* Safe area utility classes */
.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.safe-area-left {
  padding-left: env(safe-area-inset-left);
}

.safe-area-right {
  padding-right: env(safe-area-inset-right);
}

.safe-area-inset {
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
  padding-left: env(safe-area-inset-left);
}

/* Fix for bottom fixed elements (like MobileCTABar) */
.fixed-bottom-safe {
  bottom: env(safe-area-inset-bottom);
}

/* Fix for top fixed elements (like Header) */
.fixed-top-safe {
  top: env(safe-area-inset-top);
}

/* MOBILE LAYOUT FIX: Prevent horizontal scroll */
@media (max-width: 768px) {
  html,
  body {
    overflow-x: hidden !important;
    width: 100vw !important;
    max-width: 100% !important;
    position: relative;
  }

  /* Ensure body respects safe area on left/right */
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Fix for any element that might overflow */
  * {
    max-width: 100%;
  }

  /* Container shouldn't exceed viewport */
  .container {
    max-width: 100vw;
    overflow-x: hidden;
  }
}
