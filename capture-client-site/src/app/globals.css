@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  /* Disable smooth scroll on mobile for better performance */
  @media (max-width: 768px) {
    html {
      scroll-behavior: auto;
    }
  }

  body {
    @apply font-body bg-background text-foreground antialiased overflow-x-hidden;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading;
  }
}

@layer components {
  /* Premium Button Styles */
  .btn-primary {
    @apply bg-accent text-background-dark font-semibold px-6 sm:px-8 py-3.5 sm:py-4 rounded-xl
           transition-all duration-300 ease-out text-sm sm:text-base
           hover:shadow-glow-lg hover:scale-[1.02] hover:-translate-y-0.5
           active:scale-[0.98];
    background: linear-gradient(135deg, #00c9ff 0%, #4a69e2 100%);
    background-size: 200% 200%;
    animation: gradientShift 8s ease infinite;
    transform: translateZ(0);
  }

  .btn-primary:hover,
  .btn-primary:focus {
    will-change: transform;
  }

  .btn-secondary {
    @apply bg-transparent border border-surface-border text-foreground font-medium
           px-5 sm:px-6 py-2.5 sm:py-3 rounded-xl text-sm sm:text-base
           backdrop-blur-sm transition-all duration-300
           hover:bg-surface/50 hover:border-primary/50 active:scale-[0.98];
  }

  .btn-ghost {
    @apply bg-white/5 border border-white/10 text-foreground
           px-5 sm:px-6 py-2.5 sm:py-3 rounded-xl text-sm sm:text-base
           backdrop-blur-sm transition-all duration-300
           hover:bg-white/10 hover:border-white/20 active:scale-[0.98];
  }

  /* Card Styles */
  .card {
    @apply bg-surface/50 border border-surface-border rounded-2xl p-6 sm:p-8
           backdrop-blur-lg transition-all duration-500
           hover:border-primary/30 hover:shadow-card-hover hover:-translate-y-1
           active:scale-[0.99];
    transform: translateZ(0);
  }

  .card:hover,
  .card:focus-within {
    will-change: transform;
  }

  .card-glow {
    @apply card relative overflow-hidden;
  }

  .card-glow::before {
    content: "";
    @apply absolute inset-0 opacity-0 transition-opacity duration-500;
    background: radial-gradient(
      600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%),
      rgba(0, 201, 255, 0.1),
      transparent 40%
    );
  }

  .card-glow:hover::before {
    @apply opacity-100;
  }

  /* Glass morphism - Enhanced for mobile */
  .glass {
    @apply bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl;
  }

  .glass-premium {
    @apply bg-gradient-to-br from-white/[0.08] to-white/[0.02] backdrop-blur-2xl border border-white/20 rounded-2xl shadow-xl;
  }

  .glass-card {
    @apply bg-surface/30 backdrop-blur-xl border border-white/10 rounded-2xl;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.08) 0%,
      rgba(255, 255, 255, 0.02) 100%
    );
  }

  /* Mobile-optimized glassy button */
  .btn-glass {
    @apply bg-white/10 backdrop-blur-lg border border-white/20 text-foreground
           px-6 py-3.5 rounded-xl text-base font-semibold
           transition-all duration-300 active:scale-95
           hover:bg-white/[0.15] hover:border-white/30 hover:shadow-glow-lg;
    min-height: 48px; /* Touch-friendly */
  }

  /* Section container - NO content-visibility to prevent blank sections on mobile */
  .section {
    @apply py-16 sm:py-20 md:py-24 lg:py-32;
    /* NEVER use content-visibility - it causes blank sections on mobile scroll */
  }

  .container-custom {
    @apply max-w-7xl mx-auto;
  }
}

@layer utilities {
  /* Gradient text */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #4a69e2 0%, #00c9ff 100%);
  }

  .text-gradient-reverse {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(135deg, #00c9ff 0%, #4a69e2 100%);
  }

  /* Glow effects */
  .glow {
    box-shadow:
      0 0 20px rgba(0, 201, 255, 0.3),
      0 0 40px rgba(0, 201, 255, 0.1);
  }

  .glow-primary {
    box-shadow:
      0 0 20px rgba(74, 105, 226, 0.3),
      0 0 40px rgba(74, 105, 226, 0.1);
  }

  .glow-sm {
    box-shadow: 0 0 10px rgba(0, 201, 255, 0.2);
  }

  /* Animated glow button */
  .glowing-button {
    position: relative;
    overflow: hidden;
  }

  .glowing-button::before {
    content: "";
    position: absolute;
    inset: -2px;
    background: linear-gradient(45deg, #00c9ff, #4a69e2, #00c9ff, #4a69e2);
    background-size: 400% 400%;
    border-radius: inherit;
    z-index: -1;
    animation: gradientBorder 3s ease infinite;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .glowing-button:hover::before {
    opacity: 1;
  }

  @keyframes gradientBorder {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  /* Gradient shift for text and backgrounds */
  .animate-gradient-shift {
    animation: gradientShift 8s ease infinite;
  }

  @keyframes gradientShift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Orbital/swoosh decorative element */
  .orbital-ring {
    position: absolute;
    border: 1px solid rgba(74, 105, 226, 0.2);
    border-radius: 50%;
    animation: orbit 20s linear infinite;
    transform: translateZ(0);
  }

  /* Only hint will-change during animation for performance */
  @media (prefers-reduced-motion: no-preference) and (min-width: 769px) {
    .orbital-ring {
      will-change: transform;
    }
  }

  .orbital-ring::before {
    content: "";
    position: absolute;
    width: 8px;
    height: 8px;
    background: linear-gradient(135deg, #4a69e2, #00c9ff);
    border-radius: 50%;
    top: -4px;
    left: 50%;
    transform: translateX(-50%);
    box-shadow: 0 0 10px rgba(0, 201, 255, 0.5);
  }

  @keyframes orbit {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* Particle constellation effect */
  .particles {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
  }

  .particle {
    position: absolute;
    width: 2px;
    height: 2px;
    background: rgba(0, 201, 255, 0.5);
    border-radius: 50%;
    animation: float 10s ease-in-out infinite;
    transform: translateZ(0);
  }

  /* Only hint will-change during animation for performance */
  @media (prefers-reduced-motion: no-preference) and (min-width: 769px) {
    .particle {
      will-change: transform;
    }
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0) translateX(0);
      opacity: 0.5;
    }
    50% {
      transform: translateY(-20px) translateX(10px);
      opacity: 1;
    }
  }

  /* Mesh gradient background */
  .bg-mesh {
    background:
      radial-gradient(at 40% 20%, rgba(74, 105, 226, 0.15) 0px, transparent 50%),
      radial-gradient(at 80% 0%, rgba(0, 201, 255, 0.1) 0px, transparent 50%),
      radial-gradient(at 0% 50%, rgba(74, 105, 226, 0.1) 0px, transparent 50%),
      radial-gradient(at 80% 80%, rgba(0, 201, 255, 0.08) 0px, transparent 50%);
  }

  /* Scroll-triggered animations - DISABLED on mobile to prevent blank content */
  .animate-on-scroll {
    /* On mobile: content visible by default */
    opacity: 1;
    transform: translateY(0);
  }

  /* Only animate on larger screens where IntersectionObserver is reliable */
  @media (min-width: 768px) {
    .animate-on-scroll {
      opacity: 0;
      transform: translateY(20px);
      transition:
        opacity 0.6s ease-out,
        transform 0.6s ease-out;
    }

    .animate-on-scroll.in-view {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Stagger animation delays */
  .stagger-1 {
    transition-delay: 0.1s;
  }
  .stagger-2 {
    transition-delay: 0.2s;
  }
  .stagger-3 {
    transition-delay: 0.3s;
  }
  .stagger-4 {
    transition-delay: 0.4s;
  }
  .stagger-5 {
    transition-delay: 0.5s;
  }

  /* Line decoration */
  .line-gradient {
    @apply h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent;
  }

  /* Subtle noise texture overlay */
  .noise-overlay::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.02;
    pointer-events: none;
  }

  /* Angular divider */
  .angular-divider {
    position: relative;
    overflow: hidden;
  }

  .angular-divider::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 100px;
    background: linear-gradient(135deg, transparent 0%, var(--tw-gradient-from) 100%);
    transform: skewY(-3deg);
    transform-origin: top left;
  }

  /* Premium shimmer effect */
  .shimmer-effect {
    position: relative;
    overflow: hidden;
  }

  .shimmer-effect::before {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.1) 50%,
      transparent 100%
    );
    animation: shimmer 2s linear infinite;
  }

  /* Mesh gradient backgrounds with more complexity */
  .bg-mesh-premium {
    background:
      radial-gradient(at 27% 37%, rgba(74, 105, 226, 0.2) 0px, transparent 50%),
      radial-gradient(at 97% 21%, rgba(0, 201, 255, 0.15) 0px, transparent 50%),
      radial-gradient(at 52% 99%, rgba(74, 105, 226, 0.12) 0px, transparent 50%),
      radial-gradient(at 10% 29%, rgba(0, 201, 255, 0.1) 0px, transparent 50%),
      radial-gradient(at 97% 96%, rgba(74, 105, 226, 0.08) 0px, transparent 50%);
  }

  /* Animated gradient border */
  .gradient-border-animated {
    position: relative;
    background:
      linear-gradient(var(--background-dark), var(--background-dark)) padding-box,
      linear-gradient(135deg, #4a69e2, #00c9ff, #4a69e2) border-box;
    border: 2px solid transparent;
    background-size: 200% 200%;
    animation: gradientShift 8s ease infinite;
  }

  /* Enhanced magnetic hover effect */
  .magnetic-hover {
    transition: transform 0.3s cubic-bezier(0.76, 0, 0.24, 1);
  }

  /* Text shadow for depth */
  .text-depth {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  }

  /* Premium button with shimmer */
  .btn-premium {
    @apply relative overflow-hidden bg-gradient-to-r from-primary to-accent text-white font-semibold px-8 py-4 rounded-xl;
    @apply transition-all duration-300 hover:shadow-glow-lg hover:scale-[1.02];
  }

  .btn-premium::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.2) 50%,
      transparent 100%
    );
    transition: left 0.5s ease;
  }

  .btn-premium:hover::before {
    left: 100%;
  }

  /* Hover lift effect */
  .hover-lift {
    @apply transition-all duration-300;
  }

  .hover-lift:hover {
    @apply -translate-y-1 shadow-lg;
  }

  /* Focus ring for accessibility */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-accent/50 focus:ring-offset-2 focus:ring-offset-background;
  }

  /* Mobile-specific interactive utilities */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  .tap-feedback {
    @apply transition-all duration-150 active:scale-95 active:brightness-90;
  }

  /* Premium mobile card with inner glow */
  .card-glass-mobile {
    @apply bg-gradient-to-br from-white/[0.12] via-white/[0.06] to-white/[0.03]
           backdrop-blur-2xl border border-white/20 rounded-2xl
           shadow-[0_8px_32px_rgba(0,0,0,0.2),inset_0_1px_1px_rgba(255,255,255,0.1)]
           transition-all duration-300 active:scale-[0.98];
  }

  /* Glassy bottom sheet style (mobile modals) */
  .bottom-sheet {
    @apply fixed bottom-0 left-0 right-0 z-50
           bg-gradient-to-t from-background-dark/95 to-background-dark/90
           backdrop-blur-2xl border-t border-white/20 rounded-t-3xl
           shadow-[0_-8px_32px_rgba(0,0,0,0.4)];
  }

  /* Floating action button (mobile) */
  .fab-glass {
    @apply fixed bottom-6 right-6 w-14 h-14 rounded-full
           bg-gradient-to-br from-accent/90 to-primary/90
           backdrop-blur-xl border border-white/30
           shadow-[0_8px_24px_rgba(0,201,255,0.4)]
           flex items-center justify-center
           transition-all duration-300 active:scale-90
           hover:shadow-[0_12px_32px_rgba(0,201,255,0.6)];
  }

  /* Gradient border */
  .border-gradient {
    position: relative;
    background:
      linear-gradient(var(--background-dark), var(--background-dark)) padding-box,
      linear-gradient(135deg, #4a69e2, #00c9ff) border-box;
    border: 1px solid transparent;
  }

  /* Trust badges row */
  .trust-badges {
    @apply flex items-center justify-center gap-8 opacity-50 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-500;
  }

  /* Pricing card highlight */
  .pricing-popular {
    @apply relative border-accent/50 shadow-glow;
  }

  .pricing-popular::before {
    content: "Most Popular";
    @apply absolute -top-4 left-1/2 -translate-x-1/2 bg-accent text-background-dark text-sm font-semibold px-4 py-1 rounded-full;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #0f172a;
}

::-webkit-scrollbar-thumb {
  background: #334155;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #4a69e2;
}

/* Selection color */
::selection {
  background: rgba(74, 105, 226, 0.3);
  color: #f8fafc;
}

/* Hide scrollbar for horizontal scroll components */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Mobile-optimized smooth scrolling container */
.scroll-container-mobile {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  scroll-snap-type: x mandatory;
}

.scroll-snap-item {
  scroll-snap-align: start;
}

/* Premium mobile card stack */
.card-stack-mobile > * + * {
  margin-top: -40px;
}

/* Mobile pull-to-refresh indicator (visual only) */
.pull-indicator {
  @apply fixed top-0 left-1/2 -translate-x-1/2 z-50
         bg-gradient-to-br from-accent/90 to-primary/90
         backdrop-blur-xl border border-white/30
         shadow-glow-lg px-6 py-3 rounded-full
         flex items-center gap-2 text-sm font-semibold text-white;
}

/* Swipeable card (for mobile carousels) */
.swipe-card {
  touch-action: pan-y;
  user-select: none;
  -webkit-user-drag: none;
}

/* Mobile-optimized notification badge */
.notification-badge {
  @apply absolute -top-1 -right-1 w-5 h-5 rounded-full
         bg-gradient-to-br from-red-500 to-red-600
         border-2 border-background-dark
         flex items-center justify-center
         text-[10px] font-bold text-white
         animate-bounce-subtle;
}

/* Premium mobile skeleton loader */
.skeleton-glass {
  @apply bg-gradient-to-br from-white/[0.08] to-white/[0.02]
         backdrop-blur-lg rounded-2xl
         animate-pulse;
  background-size: 200% 200%;
  animation: shimmer 1.5s ease-in-out infinite;
}

/* Mobile-friendly tooltip */
.tooltip-mobile {
  @apply absolute bottom-full left-1/2 -translate-x-1/2 mb-2
         bg-background-dark/95 backdrop-blur-xl
         border border-white/20 rounded-xl
         px-4 py-2 text-sm text-foreground
         shadow-[0_4px_16px_rgba(0,0,0,0.3)]
         pointer-events-none opacity-0
         transition-opacity duration-200;
}

.tooltip-mobile::after {
  content: "";
  @apply absolute top-full left-1/2 -translate-x-1/2
         border-4 border-transparent border-t-background-dark/95;
}

.has-tooltip:hover .tooltip-mobile {
  @apply opacity-100;
}

/* Touch ripple effect */
.ripple-effect {
  position: relative;
  overflow: hidden;
}

.ripple-effect::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.ripple-effect:active::after {
  width: 300px;
  height: 300px;
}

/* Subtle bounce animation for success states */
@keyframes bounce-subtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

.animate-bounce-subtle {
  animation: bounce-subtle 1s ease-in-out infinite;
}

/* Slide up animation for form steps */
@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-up {
  animation: slide-up 0.4s ease-out;
}

/* Fade in animation */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-fade-in {
  animation: fade-in 0.5s ease-out;
}

/* MOBILE FIX: Force all content to be visible on mobile */
@media (max-width: 768px) {
  /* Remove any content-visibility that could hide sections */
  section, article, div {
    content-visibility: visible !important;
    contain-intrinsic-size: auto !important;
  }

  /* Ensure Framer Motion animations don't hide content on mobile */
  [style*="opacity: 0"] {
    opacity: 1 !important;
  }
}
